<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div id="resultado"></div>
</body>
</html>
<script>
    let factura = {
        empresa: {
            nombre: "Media Mark",
            direccion: "Calle Alustante 1",
            telefono: 58695445212,
            nif: 123456
        },
        cliente: {
            nombre: "Maria Medina",
            direccion: "Calle Alustante 33",
            telefono: 145236
        },
        elementos: [
            { descripcion: "Lavadora", precio: 200, cantidad: 1 },
            { descripcion: "Secadora", precio: 150, cantidad: 1 },
            { descripcion: "Microondas", precio: 152, cantidad: 1 }
        ],
        importeTotal: 0,
        tipoIva: 0.21,
        formaPago: "transferencia",
        calcularTotal: function () {
            let total = 0
            this.elementos.forEach(item => {
                total += item.precio * item.cantidad
            })
            console.log(total)
            this.importeTotal = total
        },
        
        muestraTotal: function () {
            const contenedor = document.getElementById("resultado");
            contenedor.innerHTML = `<h1>Factura</h1>`

            contenedor.innerHTML += '<h2>Empresa</h2>'
            contenedor.innerHTML += `<p><strong>Empresa:</strong> ${factura.empresa.nombre}</p>`
            contenedor.innerHTML += `<p><strong>Direccion:</strong> ${this.empresa.direccion}</p>`
            contenedor.innerHTML += `<p><strong>Nif:</strong> ${this.empresa.nif}</p>`

            contenedor.innerHTML += '<h2>Cliente</h2>'
            contenedor.innerHTML += `<p><strong>Nombre:</strong> ${this.cliente.nombre}</p>`;
            contenedor.innerHTML += `<p><strong>Dirección:</strong> ${this.cliente.direccion}</p>`;
            contenedor.innerHTML += `<p><strong>Teléfono:</strong> ${this.cliente.telefono}</p>`;

            contenedor.innerHTML += '<h2>Detalle Factura</h2>'
            let html = `<ul>`
            this.elementos.forEach((item) => {
                html += `<li>${item.descripcion} ---> ${item.cantidad} == ${item.cantidad * item.precio} €</li>`;
            })
            html += `</ul>`
            contenedor.innerHTML += html;
            contenedor.innerHTML += '<h2>Importe Total</h2>'
            contenedor.innerHTML += `<p><strong>Importe Total: </strong> ${this.importeTotal} € </p>`
        }
    }
    factura.calcularTotal();
    factura.muestraTotal()
</script>